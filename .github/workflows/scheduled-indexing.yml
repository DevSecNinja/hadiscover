# ⚠️ DEPRECATED: This workflow is deprecated in favor of Azure Container App Jobs
# 
# The recommended approach is to use the backend container with the "index-once" argument
# as a scheduled container job. This provides better integration with the containerized
# deployment and doesn't require exposing the /index endpoint.
#
# Example Container Job setup (Azure Container Apps):
# - Image: hadiscover-backend:latest
# - Command: ["index-once"]
# - Schedule: Daily (e.g., 2 AM UTC)
# - Environment: GITHUB_TOKEN, DATABASE_URL (if using external DB)
#
# This workflow remains for backward compatibility but will be removed in a future release.

name: Scheduled Indexing (Deprecated)

on:
  workflow_dispatch:
    # Manual trigger only - automatic scheduling disabled

permissions:
  contents: read

jobs:
  trigger-indexing:
    runs-on: ubuntu-latest
    steps:
      - name: Notice
        run: |
          echo "⚠️ This workflow is deprecated."
          echo "Please use Azure Container App Jobs with the 'index-once' command."
          echo "See backend/README.md for details."
